# Astro-AI Galaxy Evolution Analysis Platform
# PRODUCTION DEPLOYMENT VERSION
# 
# Complete scientific stack with all astronomical packages
# Full functionality: 21cm simulations, SED fitting, JWST pipeline, AI analysis
# Deployment time: 10-15 minutes

# ========================================
# CORE STREAMLIT & WEB FRAMEWORK
# ========================================
streamlit>=1.38.0

# ========================================
# SCIENTIFIC COMPUTING CORE
# ========================================
numpy>=1.24.0
pandas>=2.0.0
scipy>=1.10.0

# ========================================
# VISUALIZATION & PLOTTING
# ========================================
matplotlib>=3.7.0,<3.9.0
seaborn>=0.12.0
corner>=2.2.0

# ========================================
# ASTRONOMICAL LIBRARIES
# ========================================
astropy>=6.0.0
h5py>=3.9.0

# ========================================
# AI & MACHINE LEARNING
# ========================================
openai>=1.3.0

# ========================================
# HEAVY SCIENTIFIC PACKAGES  
# ========================================
# 21cm Cosmology - using stable PyPI version
# Note: Requires numpy compatibility check with Streamlit
21cmFAST
tools21cm>=2.0.0

# SED Fitting & Galaxy Analysis
bagpipes>=1.0.0

# JWST Pipeline (Very Heavy - 500MB+)
jwst>=1.12.0

# Advanced Sampling
nautilus-sampler>=0.6.0

# Additional Astronomical Packages
# dust-attenuation>=1.0.0  # Not available on PyPI - commented out
photutils>=1.12.0
regions>=0.9
gwcs>=0.21.0
asdf>=3.2.0
synphot>=1.4.0

# Supernova Analysis (Optional)
# bayesn
# snpy  
# astrodash
# snid-sage

# ========================================
# SUPPORTING PACKAGES
# ========================================
# These may be pulled in automatically but listing for clarity
# Pre-install packages recommended by 21cmFAST documentation
click
pyyaml
cffi>=1.0
cython>=0.29.0
numba>=0.56.0
lmfit>=1.0.0
emcee>=3.0.0

# ========================================
# DEPLOYMENT NOTES
# ========================================
# WARNING: This configuration may take 10-15 minutes to deploy
# Streamlit Cloud timeout: Be patient during first deployment
# 
# System packages required (packages.txt):
# - libfftw3-dev (for 21cmFAST)
# - libgsl-dev (for cosmological calculations)
# - libcfitsio-dev (for FITS file support)
# - build-essential (for compilation)
#
# COMPATIBILITY STRATEGY:
# - Using newer Streamlit (>=1.38.0) for better numpy 2.x support
# - Allowing pip to resolve numpy version automatically
# - Updated astropy to >=6.0.0 for synphot compatibility
# - Limited matplotlib to <3.9.0 for 21cmFAST compatibility (register_cmap API)
# - Using flexible version constraints (>=) to minimize pip backtracking
# - dust-attenuation package not available on PyPI (commented out)
# 
# OFFICIAL 21cmFAST: conda install -c conda-forge 21cmFAST
# STREAMLIT CLOUD: Uses pip + system packages for C library dependencies